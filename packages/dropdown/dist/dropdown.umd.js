!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).Dropdown={})}(this,function(e){"use strict";for(var t,i=(function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var i=new Uint8Array(16);e.exports=function(){return t(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}}(t={exports:{}},t.exports),t.exports),n=[],s=0;s<256;++s)n[s]=(s+256).toString(16).substr(1);var o=function(e,t){var i=t||0,s=n;return[s[e[i++]],s[e[i++]],s[e[i++]],s[e[i++]],"-",s[e[i++]],s[e[i++]],"-",s[e[i++]],s[e[i++]],"-",s[e[i++]],s[e[i++]],"-",s[e[i++]],s[e[i++]],s[e[i++]],s[e[i++]],s[e[i++]],s[e[i++]]].join("")};var r=function(e,t,n){var s=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var l=0;l<16;++l)t[s+l]=r[l];return t||o(r)},l=require("deepmerge"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map(function(e){return Object.assign({},e,{isSelected:e.isSelected||t==e.id||!1,isHighlighted:e.isHighlighted||!1})})},c=function(e,t){return l(t,e)},d=function(e,t){Object.keys(e).forEach(function(e){t.hasOwnProperty(e)||console.error("".concat(e," doesn't seem to be a valid option. valid options are -> ").concat(t))})},a={props:{instanceId:{type:String,required:!0},list:{type:Array,required:!0},item:{type:Object,required:!0}},data:function(){return{isSelected:!1,isHighlighted:!1}},methods:{highlight:function(e){e.isHighlighted=!0},blur:function(e){e.isHighlighted=!1},select:function(e){var t=this.list.find(function(e){return e.isSelected});t&&(t.isSelected=!1),e.isSelected=!e.isSelected,this.$emit("change",e.id)},getItemEvents:function(e){var t=this;return{mouseover:function(){t.highlight(e)},mouseout:function(){t.blur(e)},click:function(){t.select(e)}}}},render:function(){var e=this;return this.$scopedSlots.default({isSelected:this.item.isSelected,isHighlighted:this.item.isHighlighted,highlight:this.highlight,itemMouseoverEvent:function(t){return e.getItemEvents(t).mouseover()},itemMouseoutEvent:function(t){return e.getItemEvents(t).mouseout()},itemEvents:this.getItemEvents})}},h={closeOnSelect:!0,closeOnClickaway:!0,resetFilterOnSelect:!0,fields:{unique:"id",label:"label"}},f={name:"GhostaxDropdown",props:{rawList:{type:Array,required:!1},defaultValue:{type:String,required:!1,default:void 0},filterQuery:{type:String,required:!1,default:""},options:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{instanceId:r(),isOpen:!1,value:this.defaultValue}},computed:{nomalizedOptions:function(){return d(this.options,h),c(this.options,h)},normalizedList:function(){return u(this.rawList,this.value)},listToRender:function(){var e=this;return this.normalizedList.filter(function(t){return t[e.nomalizedOptions.fields.label].includes(e.filterQuery)})}},watch:{isOpen:function(){this.isOpen?(document.addEventListener("click",this.handleClickAway),document.addEventListener("keydown",this.handleClickAway)):(document.removeEventListener("click",this.handleClickAway),document.removeEventListener("keydone",this.handleClickAway))}},mounted:function(){this.normalizeOptions(),this.listenOnChangeValue()},methods:{normalizeOptions:function(){this.normalizedOptions=c(this.options)},listenOnChangeValue:function(){},handleClickAway:function(e){(function(e,t){return!e.contains(t.target)}(this.$el,e)||"Escape"===e.key)&&this.close()},open:function(){this.isOpen=!0,this.$emit("open")},close:function(){this.isOpen=!1,this.$emit("close")},toggle:function(){this.isOpen=!this.isOpen,this.$emit("toggle",this.isOpen)},filterList:function(e){var t=this;this.listToRender=e?this.normalizedList.filter(function(i){return i[t.nomalizedOptions.fields.label].includes(e)}):this.normalizedList},select:function(e){this.value=e,this.$emit("change",e),this.closeOnSelect&&this.close(),this.resetOnSelect&&this.filterList("")}},render:function(){return this.$scopedSlots.default({instanceId:this.instanceId,isOpen:this.isOpen,isClosed:!this.isOpen,value:this.value,listToRender:this.listToRender,open:this.open,close:this.close,toggle:this.toggle,filter:this.filter})}};e.Dropdown=f,e.DropdownItem=a,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=dropdown.umd.js.map
